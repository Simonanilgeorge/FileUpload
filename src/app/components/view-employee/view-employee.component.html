<div class="container">

    <app-navbar></app-navbar>
    <app-toast [message]="message" [classBoolean]="toast"></app-toast>



    <!-- modal box start -->
    <div class="modal" [class.display]="modalBoolean" #modalRef>

        <div class="modal-content">
            <div class="text">
                <h2>Confirm</h2>
            </div>
            <div class="text">

                <p>Are you sure you want to delete <span *ngIf="dataToBeDeleted">
                        {{dataToBeDeleted.name|titlecase}}</span>?</p>


            </div>

            <div class="buttoncontainer">
                <button class="openbtn" (click)="delete(dataToBeDeleted)">Yes</button>
                <button class="openbtn" (click)="closeModal()">No</button>
            </div>
        </div>
    </div>

    <!-- modal box end -->

    <div class="heading">
        <h2>Employee Details</h2>

    </div>
    <div class="report-container" *ngIf="flag">
        <div class="tablecontainer">
            <form [formGroup]="columnFilterForm">
                <table id="excel-table">
                    <tr>
                        <th style="position:sticky;top:0;">
                            <form class="tablesearch">
                                <div class="inputgroup">

                                    <input type="text" placeholder="Search" name="name" [(ngModel)]="searchedKeyword"
                                        class="search">
                                </div>

                            </form>
                        </th>
                        <th colspan="14" style="position:sticky;top:0;">
                            <!-- <input type="button" value="Export" class="exportbutton" (click)="export()"> -->
                        </th>
                    </tr>
                    <tr>
                        <th>Edit</th>
                        <th *ngFor="let title of titles">
                            <span style="cursor: pointer;" (dblclick)="showInput()"
                                (click)="getTitleName(title)">{{headings[title]}} &uarr;&darr;</span>
                            <div class="inputgroup-columnsort" *ngIf="showColumnInput">
                                <input type="text" class="search" formControlName="{{title}}">
                            </div>
                        </th>


                    </tr>

                    <tr
                        *ngFor="let data of data | filter:searchedKeyword | columnsort:columnFilterForm.value | sort:titleName ">
                        <td>
                            <span (click)="showModal(data)" style='cursor: pointer;font-size: 1.1em;'> 
                                <i class="fa fa-trash-o"></i> </span>
                            &nbsp;&nbsp;&nbsp;
                            <span (click)="edit(data)" style="cursor:pointer;font-size: 1.1em;">&#9998;</span>
                        </td>
                        <td *ngFor="let title of titles" class="textleft">
                                {{data[title]}}
                        </td>
                    </tr>
                </table>
            </form>
        </div>
    </div>

</div>